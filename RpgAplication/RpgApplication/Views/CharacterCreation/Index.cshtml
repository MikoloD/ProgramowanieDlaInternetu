@model RpgApplication.Models.MistbornCharacterSheetModel

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<MistbornCharacterSheetModel> MyCharacters = ViewBag.MyCharacters;
    int selectedValue = 0;
    SelectList List = new SelectList(MyCharacters, "Id", "CharacterName",selectedValue);
}

<div class="card text-white bg-dark mt-5 my-5 mx-auto opacity-card" style="width: 25rem;">
    <div class="card-body">
        <h3 class="card-title"> Twoje Postaci</h3>
        <div class="row">
            <div class="col-sm">
                <form asp-action="Index" asp-route-Id="@selectedValue.ToString()">
                    <div class="form-inline my-3">
                        <label asp-for="CharacterName" class="control-label mr-5 ml-2 my-3"></label>
                        <select asp-items="@(List)"
                                class="form-control" asp-for="CharacterName" onchange="update(this.val)">
                            <option value="wybierz">---Wybierz---</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input type="submit" value="Wybierz" class="btn btn-secondary"/>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<script>
    function update(val) {
        @selectedValue=val;
    }
</script>
@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
